# =============================================
# TapalqueApp - Variables de Entorno (PRODUCCION)
# Copia este archivo a .env y completa los valores
# =============================================

# Mercado Pago - Credenciales de PRODUCCION
MP_ACCESS_TOKEN=APP_USR-xxxxxxxx
CLIENT_ID=xxxxxxxx
CLIENT_SECRET=xxxxxxxx
URL_CALLBACK=https://www.xxxxx.com/api/mercadopago/oauth/callback
MP_WEBHOOK_SECRET=xxxxxxxx
MP_WEBHOOK_URL=https://www.xxxxx.com/api/mercadopago/webhook

# Encriptado
ENCRYPT_ALGO=AES
SECRET_KEY=xxxxxxxx

#RabbitMQ
RABBITMQ_DEFAULT_USER=xxxxxxx
RABBITMQ_DEFAULT_PASS=xxxxxx

# JWT
JWT_EXPIRATION=86400000
TOKEN_EXPIRATION=604800000

# Frontend URL (usado por MercadoPago para back_urls)
APP_FRONTEND_URL=https://www.xxxxxxx.com

# Email - Gmail SMTP
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=tu-email@gmail.com
MAIL_PASSWORD=xxxx-xxxx-xxxx-xxxx
MAIL_FROM=tu-email@gmail.com
MAIL_FROM_NAME=TapalqueApp
APP_BASE_URL=https://www.tapalqueapp.com.ar

# conexion a whatsapp
# 1. Generar token (reemplazá "tapalque_secret" si pusiste otro en WPPCONNECT_SECRET)
# curl -X POST http://localhost:21465/api/tapalque_secret/tapalque/generate-token
# 3. Escanear el QR con el WhatsApp de TapalqueApp
# curl -X POST http://localhost:21465/api/{token}/tapalque/start-session
# → devuelve un QR en base64, lo abrís con cualquier visor y lo escaneás
WPPCONNECT_SECRET=tapalque_secret
WPPCONNECT_TOKEN=
WPPCONNECT_SESSION=tapalque

# Moderador Default (se crea automaticamente al iniciar msvc-user)
MODERATOR_EMAIL=moderador@ejemplo.com
MODERATOR_PASSWORD=CambiarEnProduccion!
MODERATOR_NAME=Moderador Tapalque

# WPPConnect - WhatsApp self-hosted
# WPPCONNECT_SECRET: clave maestra para generar tokens (inventala vos, no la cambies despues)
# WPPCONNECT_TOKEN: se genera con el setup inicial (ver abajo), dejar vacio hasta hacer el setup
# WPPCONNECT_SESSION: nombre de la sesion, no hace falta cambiarlo
#
# Setup inicial (una sola vez en el servidor):
#   1. docker compose up -d wppconnect
#   2. curl -X POST http://localhost:21465/api/${WPPCONNECT_SECRET}/tapalque/generate-token
#   3. Copiar el "token" de la respuesta en WPPCONNECT_TOKEN
#   4. curl -X POST http://localhost:21465/api/${WPPCONNECT_TOKEN}/tapalque/start-session
#   5. Abrir el QR retornado (base64) y escanearlo con el WhatsApp de TapalqueApp
#   6. docker compose restart msvc-pedidos msvc-reservas
WPPCONNECT_SECRET=una-clave-secreta-segura
WPPCONNECT_TOKEN=
WPPCONNECT_SESSION=tapalque
