import{r as d,j as e,F as s,f as b,g as n,n as Z,B as g,A as B,S as M,L as G,M as N,h as R,C as ee,o as P}from"./bootstrap-B3hNdjPl.js";import"./vendor-gH-7aFTg.js";function O({images:w,onChange:T,maxImages:I=5,entityType:z="comercio",entityId:o}){const[y,c]=d.useState(""),[j,t]=d.useState(!1),u=Array.isArray(w)?w.map(m=>typeof m=="string"?m:m.imagenUrl):[],h=()=>{if(y.trim()&&u.length<I){const m=[...u,y.trim()];T(m),c("")}},S=async m=>{const p=m.target.files;if(!p||p.length===0||u.length>=I)return;const x=p[0];if(!x.type.match(/image\/(jpeg|jpg|png)/)){alert("Solo se permiten archivos JPEG, JPG o PNG");return}if(x.size>5*1024*1024){alert("El archivo no puede superar los 5MB");return}t(!0);try{const f=new FormData;if(f.append("imagen",x),o&&z){let v="";z==="hospedaje"?v=`/api/hospedajes/${o}/imagenes`:z==="gastronomia"?v=`/restaurante/${o}/imagenes`:(v={comercio:"/api/comercio/imagen",servicio:"/api/servicio/imagen",evento:"/api/eventos/imagen","espacio-publico":"/api/espacio-publico/imagen",terma:"/api/terma/imagen"}[z]||"/api/comercio/imagen",v=`${v}/${o}`),(z==="hospedaje"||z==="gastronomia")&&(f.delete("imagen"),f.append("file",x)),console.log("Subiendo imagen a:",v);const L=await fetch(v,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:f});if(L.ok){const r=await L.json();console.log("Imagen subida exitosamente:",r);const D=r.imagenUrl||r.url||r.message;if(D){const A=[...u,D];T(A)}else alert("La imagen se subió pero no se recibió la URL")}else{console.error("Error en respuesta del servidor:",L.status);const r=await L.json().catch(()=>({}));alert(`Error al subir imagen: ${r.message||r.error||`Error ${L.status}`}`)}}else alert("Debe guardar el registro primero antes de subir imágenes")}catch(f){console.error("Error subiendo imagen:",f),alert("Error de conexión al subir la imagen. Verifique que el backend esté disponible.")}finally{t(!1),m.target.value=""}},E=async m=>{const p=u[m];if(o&&z)try{let f="";z==="hospedaje"?f=`/api/hospedajes/${o}/imagenes`:z==="gastronomia"?f=`/restaurante/${o}/imagenes`:(f={comercio:"/api/comercio/imagen",servicio:"/api/servicio/imagen",evento:"/api/eventos/imagen","espacio-publico":"/api/espacio-publico/imagen",terma:"/api/terma/imagen"}[z]||"/api/comercio/imagen",f=`${f}/${o}`);const v=await fetch(f,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({imagenUrl:p})});v.ok||console.warn("No se pudo eliminar la imagen del servidor:",v.status)}catch(f){console.error("Error eliminando imagen del backend:",f)}const x=u.filter((f,v)=>v!==m);T(x)};return e.jsxs("div",{className:"mb-3",children:[e.jsxs(s.Label,{className:"small mb-2",children:["Imágenes (",u.length,"/",I,")"]}),u.length>0&&e.jsx(b,{className:"mb-3 g-2",children:u.map((m,p)=>e.jsx(n,{xs:6,md:4,lg:3,children:e.jsxs("div",{className:"position-relative",children:[e.jsx(Z,{src:m,alt:`Imagen ${p+1}`,fluid:!0,className:"w-100 h-100",style:{objectFit:"cover",maxHeight:"120px"},onError:x=>{console.warn("Error cargando imagen:",m),x.currentTarget.src="https://via.placeholder.com/120x120/cccccc/666666?text=Error"},onLoad:()=>{console.log("Imagen cargada exitosamente:",m)}}),e.jsx(g,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 m-1",onClick:()=>E(p),style:{fontSize:"0.7rem",padding:"0.2rem 0.4rem"},children:"×"})]})},p))}),u.length<I&&e.jsxs(b,{className:"g-2",children:[e.jsx(n,{md:6,children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(s.Control,{size:"sm",type:"url",placeholder:"https://ejemplo.com/imagen.jpg",value:y,onChange:m=>c(m.target.value),onKeyPress:m=>m.key==="Enter"&&h()}),e.jsx(g,{size:"sm",variant:"outline-primary",onClick:h,children:"Agregar URL"})]})}),e.jsxs(n,{md:6,children:[e.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[e.jsx(s.Control,{type:"file",size:"sm",accept:".jpg,.jpeg,.png",onChange:S,disabled:j}),j&&e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Subiendo..."})})]}),e.jsx("small",{className:"text-muted",children:"JPEG, JPG, PNG (máx. 5MB)"})]})]}),u.length>=I&&e.jsxs(B,{variant:"info",className:"py-2 small",children:["Máximo de ",I," imágenes alcanzado"]})]})}const J={titulo:"",descripcion:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function se(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(!1),[t,u]=d.useState(J),[h,S]=d.useState(!1),[E,m]=d.useState(null),[p,x]=d.useState(!1);d.useEffect(()=>{f()},[]);const f=async()=>{try{z(!0);const a=await fetch("/api/comercio/list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.ok){const i=await a.json();T(i),console.log("Datos cargados desde API:",i)}else console.warn("API respondió con error:",a.status,a.statusText),T([])}catch(a){console.error("Error cargando datos:",a),T([])}finally{z(!1)}},v=a=>{console.log("Item seleccionado:",a),y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...J})},r=(a,i)=>{u(C=>({...C,[a]:i}))},D=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),i=c?"/api/comercio":`/api/comercio/patch/${o?.id}`,C=c?"POST":"PATCH",l={...t,descripcion:t.descripcion?.trim()||"",telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:t.imagenes&&t.imagenes.length>0?t.imagenes:void 0};console.log("Enviando datos:",l),console.log("URL:",i),console.log("Método:",C);const k=await fetch(i,{method:C,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(l)});if(console.log("Respuesta status:",k.status),k.ok)m({tipo:"success",texto:c?"Creado":"Actualizado"}),f(),c&&(j(!1),u(J));else{const $=await k.json().catch(()=>({}));console.error("Error del servidor:",$),m({tipo:"danger",texto:$.message||$.error||`Error ${k.status}: ${k.statusText}`})}}catch(a){console.error("Error en handleSave:",a),m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token"),i=await fetch(`/api/comercio/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(i.ok)m({tipo:"success",texto:"Eliminado"}),y(null),u(J),f();else{const C=await i.json().catch(()=>({}));m({tipo:"danger",texto:C.message||C.error||"Error al eliminar"})}}catch(a){console.error("Error en handleDelete:",a),m({tipo:"danger",texto:"Error de conexión al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(a=>e.jsxs(G.Item,{action:!0,active:o?.id===a.id,onClick:()=>v(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.direccion})]},a.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[E&&e.jsx(B,{variant:E.tipo,className:"py-1 small",children:E.texto}),o||c?e.jsxs(s,{children:[e.jsx("h6",{children:c?"Nuevo Comercio":`Editando: ${o?.titulo}`}),!c&&o&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})})]}),e.jsx(O,{images:t.imagenes||[],onChange:a=>u(i=>({...i,imagenes:a.map(C=>({imagenUrl:C}))})),maxImages:5,entityType:"comercio",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:D,disabled:h,children:h?e.jsx(M,{size:"sm"}):c?"Crear":"Guardar"}),!c&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:p,onHide:()=>x(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar eliminación"})}),e.jsxs(N.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const q={titulo:"",descripcion:"",direccion:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",twitter:"",tiktok:"",categoria:"",horario:"",imagenes:[]};function ae(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(!1),[t,u]=d.useState(q),[h,S]=d.useState(!1),[E,m]=d.useState(null),[p,x]=d.useState(!1);d.useEffect(()=>{f()},[]);const f=async()=>{try{z(!0);const a=await fetch("/api/espacio-publico",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&T(await a.json())}catch(a){console.error("Error:",a)}finally{z(!1)}},v=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...q})},r=(a,i)=>{u(C=>({...C,[a]:i}))},D=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),i=c?"/api/espacio-publico":`/api/espacio-publico/${o?.id}`,C={...t,descripcion:t.descripcion?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,twitter:t.twitter?.trim()||void 0,tiktok:t.tiktok?.trim()||void 0,categoria:t.categoria?.trim()||void 0,horario:t.horario?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(i,{method:c?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(C)})).ok?(m({tipo:"success",texto:c?"Creado":"Actualizado"}),f(),c&&(j(!1),u(q))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/espacio-publico/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(q),f())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(a=>e.jsxs(G.Item,{action:!0,active:o?.id===a.id,onClick:()=>v(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.categoria||a.direccion})]},a.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[E&&e.jsx(B,{variant:E.tipo,className:"py-1 small",children:E.texto}),o||c?e.jsxs(s,{children:[e.jsx("h6",{children:c?"Nuevo Espacio Público":`Editando: ${o?.titulo}`}),!c&&o&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Categoría"}),e.jsx(s.Control,{size:"sm",value:t.categoria||"",onChange:a=>r("categoria",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Twitter"}),e.jsx(s.Control,{size:"sm",value:t.twitter||"",onChange:a=>r("twitter",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"TikTok"}),e.jsx(s.Control,{size:"sm",value:t.tiktok||"",onChange:a=>r("tiktok",a.target.value)})]})})]}),e.jsx(O,{images:t.imagenes||[],onChange:a=>u(i=>({...i,imagenes:a.map(C=>({imagenUrl:C}))})),maxImages:5,entityType:"espacio-publico",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:D,disabled:h,children:h?e.jsx(M,{size:"sm"}):c?"Crear":"Guardar"}),!c&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:p,onHide:()=>x(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar"})}),e.jsxs(N.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const Y={nombreEvento:"",lugar:"",horario:"",fechaInicio:"",fechaFin:"",telefonoContacto:"",nombreContacto:"",imagenes:[]};function te(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(!1),[t,u]=d.useState(Y),[h,S]=d.useState(!1),[E,m]=d.useState(null),[p,x]=d.useState(!1);d.useEffect(()=>{f()},[]);const f=async()=>{try{z(!0);const a=await fetch("/api/eventos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&T(await a.json())}catch(a){console.error("Error:",a)}finally{z(!1)}},v=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...Y})},r=(a,i)=>{u(C=>({...C,[a]:i}))},D=async()=>{if(!t.nombreEvento){m({tipo:"danger",texto:"Nombre requerido"});return}S(!0);try{const a=localStorage.getItem("token"),i=c?"/api/eventos":`/api/eventos/${o?.id}`,C={...t,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(i,{method:c?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(C)})).ok?(m({tipo:"success",texto:c?"Creado":"Actualizado"}),f(),c&&(j(!1),u(Y))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/eventos/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(Y),f())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(a=>e.jsxs(G.Item,{action:!0,active:o?.id===a.id,onClick:()=>v(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.nombreEvento}),e.jsxs("small",{className:"text-muted",children:[a.fechaInicio," - ",a.lugar]})]},a.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[E&&e.jsx(B,{variant:E.tipo,className:"py-1 small",children:E.texto}),o||c?e.jsxs(s,{children:[e.jsx("h6",{children:c?"Nuevo Evento":`Editando: ${o?.nombreEvento}`}),!c&&o&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:t.nombreEvento||"",onChange:a=>r("nombreEvento",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Lugar *"}),e.jsx(s.Control,{size:"sm",value:t.lugar||"",onChange:a=>r("lugar",a.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Fecha Inicio *"}),e.jsx(s.Control,{size:"sm",type:"date",value:t.fechaInicio||"",onChange:a=>r("fechaInicio",a.target.value)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Fecha Fin"}),e.jsx(s.Control,{size:"sm",type:"date",value:t.fechaFin||"",onChange:a=>r("fechaFin",a.target.value)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario *"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre Contacto *"}),e.jsx(s.Control,{size:"sm",value:t.nombreContacto||"",onChange:a=>r("nombreContacto",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono Contacto *"}),e.jsx(s.Control,{size:"sm",value:t.telefonoContacto||"",onChange:a=>r("telefonoContacto",a.target.value)})]})})]}),e.jsx(O,{images:t.imagenes||[],onChange:a=>u(i=>({...i,imagenes:a.map(C=>({imagenUrl:C}))})),maxImages:5,entityType:"evento",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:D,disabled:h,children:h?e.jsx(M,{size:"sm"}):c?"Crear":"Guardar"}),!c&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:p,onHide:()=>x(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar"})}),e.jsxs(N.Body,{children:['¿Eliminar "',o?.nombreEvento,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const W={name:"",address:"",email:"",latitude:void 0,longitude:void 0,categories:"",phones:"",schedule:"",delivery:!1,imagenes:[],userId:void 0};function le(){const[w,T]=d.useState([]),[I,z]=d.useState([]),[o,y]=d.useState(!0),[c,j]=d.useState(null),[t,u]=d.useState(!1),[h,S]=d.useState(W),[E,m]=d.useState(!1),[p,x]=d.useState(null),[f,v]=d.useState(!1);d.useEffect(()=>{L(),r()},[]);const L=async()=>{try{y(!0);const l=await fetch("/api/gastronomia/findAll",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();T(k||[])}}catch(l){console.error("Error:",l)}finally{y(!1)}},r=async()=>{try{const l=await fetch("/api/user/administradores",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();z(k||[])}}catch(l){console.error("Error cargando administradores:",l)}},D=l=>{j(l),u(!1),S({...l})},A=()=>{j(null),u(!0),S({...W}),x(null)},a=(l,k)=>{S($=>({...$,[l]:k}))},i=async()=>{if(!h.name){x({tipo:"danger",texto:"Nombre requerido"});return}m(!0);try{const l=localStorage.getItem("token"),k=t?"/api/gastronomia":`/api/gastronomia/${c?.id}`,$={...h,address:h.address?.trim()||void 0,email:h.email?.trim()||void 0,categories:h.categories?.trim()||void 0,phones:h.phones?.trim()||void 0,schedule:h.schedule?.trim()||void 0,latitude:h.latitude||void 0,longitude:h.longitude||void 0,imagenes:(h.imagenes?.length??0)>0?h.imagenes:void 0},F=await fetch(k,{method:t?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify($)});if(F.ok){const U=await F.json();if(t&&h.userId){const H={ownerId:h.userId,name:h.name,businessType:"GASTRONOMIA",externalBusinessId:U.id};(await fetch("/api/business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(H)})).ok||console.warn("No se pudo asignar el administrador al negocio")}x({tipo:"success",texto:t?"Creado":"Actualizado"}),L(),t&&(u(!1),S(W))}else x({tipo:"danger",texto:"Error al guardar"})}catch{x({tipo:"danger",texto:"Error de conexión"})}finally{m(!1),setTimeout(()=>x(null),3e3)}},C=async()=>{if(c)try{const l=localStorage.getItem("token");(await fetch(`/api/gastronomia/delete/${c.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok?(x({tipo:"success",texto:"Eliminado"}),j(null),S(W),L()):x({tipo:"danger",texto:"Error al eliminar"})}catch{x({tipo:"danger",texto:"Error de conexión"})}finally{v(!1),setTimeout(()=>x(null),3e3)}};return o?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:A,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(l=>e.jsxs(G.Item,{action:!0,active:c?.id===l.id,onClick:()=>D(l),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:l.name}),e.jsx("small",{className:"text-muted",children:l.address||l.categories})]},l.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[p&&e.jsx(B,{variant:p.tipo,className:"py-1 small",children:p.texto}),c||t?e.jsxs(s,{children:[e.jsx("h6",{children:t?"Nuevo Local Gastronómico":`Editando: ${c?.name}`}),!t&&c&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:c.id,disabled:!0})]})})}),t&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"Administrador/Dueño"}),e.jsxs(s.Select,{size:"sm",value:h.userId||"",onChange:l=>a("userId",parseInt(l.target.value)||0),children:[e.jsx("option",{value:"",children:"Seleccionar administrador..."}),I.map(l=>e.jsxs("option",{value:l.id,children:[l.firstName," ",l.lastName," (",l.email,")"]},l.id))]})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:h.name||"",onChange:l=>a("name",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Email"}),e.jsx(s.Control,{size:"sm",type:"email",value:h.email||"",onChange:l=>a("email",l.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:h.address||"",onChange:l=>a("address",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Categorías"}),e.jsx(s.Control,{size:"sm",value:h.categories||"",onChange:l=>a("categories",l.target.value),placeholder:"Pizza, Empanadas"})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfonos"}),e.jsx(s.Control,{size:"sm",value:h.phones||"",onChange:l=>a("phones",l.target.value),placeholder:"123456, 789012"})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horarios"}),e.jsx(s.Control,{size:"sm",value:h.schedule||"",onChange:l=>a("schedule",l.target.value),placeholder:"1:09:00-22:00; 2:09:00-22:00"})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:h.latitude??"",onChange:l=>a("latitude",parseFloat(l.target.value)||0)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:h.longitude??"",onChange:l=>a("longitude",parseFloat(l.target.value)||0)})]})}),e.jsx(n,{md:4,children:e.jsx(s.Group,{className:"mb-2 pt-4",children:e.jsx(s.Check,{type:"checkbox",label:"Delivery",checked:h.delivery||!1,onChange:l=>a("delivery",l.target.checked)})})})]}),e.jsx(O,{images:h.imagenes||[],onChange:l=>S(k=>({...k,imagenes:l.map($=>({imagenUrl:$}))})),maxImages:5,entityType:"gastronomia",entityId:c?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:i,disabled:E,children:E?e.jsx(M,{size:"sm"}):t?"Crear":"Guardar"}),!t&&c&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>v(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{j(null),u(!1),x(null)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:f,onHide:()=>v(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar"})}),e.jsxs(N.Body,{children:['¿Eliminar "',c?.name,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>v(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:C,children:"Eliminar"})]})]})]})}const K={titulo:"",description:"",ubicacion:"",googleMapsUrl:"",numWhatsapp:"",tipoHospedaje:"HOTEL",imagenes:[],userId:void 0};function re(){const[w,T]=d.useState([]),[I,z]=d.useState([]),[o,y]=d.useState(!0),[c,j]=d.useState(null),[t,u]=d.useState(!1),[h,S]=d.useState(K),[E,m]=d.useState(!1),[p,x]=d.useState(null),[f,v]=d.useState(!1);d.useEffect(()=>{L(),r()},[]);const L=async()=>{try{y(!0);const l=await fetch("/api/hospedajes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();T(k),console.log("Hospedajes cargados desde API:",k)}}catch(l){console.error("Error cargando hospedajes:",l),T([])}finally{y(!1)}},r=async()=>{try{const l=await fetch("/api/user/administradores",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();z(k||[])}}catch(l){console.error("Error cargando administradores:",l)}},D=l=>{console.log("Hospedaje seleccionado:",l),j(l),u(!1),S({...l})},A=()=>{j(null),u(!0),S({...K})},a=(l,k)=>{S($=>({...$,[l]:k}))},i=async()=>{if(!h.titulo){x({tipo:"danger",texto:"Título requerido"});return}m(!0);try{const l=localStorage.getItem("token"),k=t?"/api/hospedajes":`/api/hospedajes/${c?.id}`,$=t?"POST":"PUT",F={...h,description:h.description?.trim()||"",ubicacion:h.ubicacion?.trim()||void 0,googleMapsUrl:h.googleMapsUrl?.trim()||void 0,numWhatsapp:h.numWhatsapp?.trim()||void 0,imagenes:(h.imagenes??[]).length>0?h.imagenes:void 0};console.log("Enviando hospedaje:",F),console.log("URL:",k),console.log("Método:",$);const U=await fetch(k,{method:$,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(F)});if(console.log("Respuesta status:",U.status),U.ok){const H=await U.json();if(t&&h.userId){const Q={ownerId:h.userId,name:h.titulo,businessType:"HOSPEDAJE",externalBusinessId:H.id};(await fetch("/api/business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(Q)})).ok||console.warn("No se pudo asignar el administrador al negocio")}x({tipo:"success",texto:t?"Creado":"Actualizado"}),L(),t&&(u(!1),S(K))}else{const H=await U.json().catch(()=>({}));console.error("Error del servidor:",H),x({tipo:"danger",texto:H.message||H.error||`Error ${U.status}: ${U.statusText}`})}}catch(l){console.error("Error en handleSave de hospedaje:",l),x({tipo:"danger",texto:"Error de conexión"})}finally{m(!1),setTimeout(()=>x(null),3e3)}},C=async()=>{if(c)try{const l=localStorage.getItem("token"),k=await fetch(`/api/hospedajes/${c.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});if(k.ok)x({tipo:"success",texto:"Eliminado"}),j(null),S(K),L();else{const $=await k.json().catch(()=>({}));x({tipo:"danger",texto:$.message||$.error||"Error al eliminar"})}}catch(l){console.error("Error en handleDelete de hospedaje:",l),x({tipo:"danger",texto:"Error de conexión al eliminar"})}finally{v(!1),setTimeout(()=>x(null),3e3)}};return o?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:A,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(l=>e.jsxs(G.Item,{action:!0,active:c?.id===l.id,onClick:()=>D(l),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:l.titulo}),e.jsxs("small",{className:"text-muted",children:[l.tipoHospedaje," - ",l.ubicacion]})]},l.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[p&&e.jsx(B,{variant:p.tipo,className:"py-1 small",children:p.texto}),c||t?e.jsxs(s,{children:[e.jsx("h6",{children:t?"Nuevo Hospedaje":`Editando: ${c?.titulo}`}),!t&&c&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:c.id,disabled:!0})]})})}),t&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"Administrador/Dueño"}),e.jsxs(s.Select,{size:"sm",value:h.userId||"",onChange:l=>a("userId",l.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar administrador..."}),I.map(l=>e.jsxs("option",{value:l.id,children:[l.firstName," ",l.lastName," (",l.email,")"]},l.id))]})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:h.titulo||"",onChange:l=>a("titulo",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Tipo *"}),e.jsxs(s.Select,{size:"sm",value:h.tipoHospedaje||"HOTEL",onChange:l=>a("tipoHospedaje",l.target.value),children:[e.jsx("option",{value:"HOTEL",children:"Hotel"}),e.jsx("option",{value:"DEPARTAMENTO",children:"Departamento"}),e.jsx("option",{value:"CABAÑA",children:"Cabaña"}),e.jsx("option",{value:"CASA",children:"Casa"}),e.jsx("option",{value:"OTRO",children:"Otro"})]})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:h.description||"",onChange:l=>a("description",l.target.value)})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Ubicación *"}),e.jsx(s.Control,{size:"sm",value:h.ubicacion||"",onChange:l=>a("ubicacion",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"WhatsApp"}),e.jsx(s.Control,{size:"sm",value:h.numWhatsapp||"",onChange:l=>a("numWhatsapp",l.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Google Maps URL *"}),e.jsx(s.Control,{size:"sm",value:h.googleMapsUrl||"",onChange:l=>a("googleMapsUrl",l.target.value),placeholder:"https://maps.google.com/..."})]}),e.jsx(O,{images:h.imagenes||[],onChange:l=>S(k=>({...k,imagenes:l.map($=>({imagenUrl:$}))})),maxImages:5,entityType:"hospedaje",entityId:c?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:i,disabled:E,children:E?e.jsx(M,{size:"sm"}):t?"Crear":"Guardar"}),!t&&c&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>v(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{j(null),u(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:f,onHide:()=>v(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar"})}),e.jsxs(N.Body,{children:['¿Eliminar "',c?.titulo,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>v(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:C,children:"Eliminar"})]})]})]})}const V={titulo:"",descripcion:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function oe(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(!1),[t,u]=d.useState(V),[h,S]=d.useState(!1),[E,m]=d.useState(null),[p,x]=d.useState(!1);d.useEffect(()=>{f()},[]);const f=async()=>{try{z(!0);const a=await fetch("/api/servicio",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&T(await a.json())}catch(a){console.error("Error:",a)}finally{z(!1)}},v=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...V})},r=(a,i)=>{u(C=>({...C,[a]:i}))},D=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),i=c?"/api/servicio":`/api/servicio/${o?.id}`,C={...t,descripcion:t.descripcion?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(i,{method:c?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(C)})).ok?(m({tipo:"success",texto:c?"Creado":"Actualizado"}),f(),c&&(j(!1),u(V))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/servicio/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(V),f())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(a=>e.jsxs(G.Item,{action:!0,active:o?.id===a.id,onClick:()=>v(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.direccion})]},a.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[E&&e.jsx(B,{variant:E.tipo,className:"py-1 small",children:E.texto}),o||c?e.jsxs(s,{children:[e.jsx("h6",{children:c?"Nuevo Servicio":`Editando: ${o?.titulo}`}),!c&&o&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})})]}),e.jsx(O,{images:t.imagenes||[],onChange:a=>u(i=>({...i,imagenes:a.map(C=>({imagenUrl:C}))})),maxImages:5,entityType:"servicio",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:D,disabled:h,children:h?e.jsx(M,{size:"sm"}):c?"Crear":"Guardar"}),!c&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(N,{show:p,onHide:()=>x(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Confirmar"})}),e.jsxs(N.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const _={titulo:"",description:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function ne(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(!1),[t,u]=d.useState(_),[h,S]=d.useState(!1),[E,m]=d.useState(null);d.useEffect(()=>{p()},[]);const p=async()=>{try{z(!0);const r=await fetch("/api/terma",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(r.ok){const D=await r.json();console.log("Termas cargadas:",D),T(D||[])}else console.error("Error al cargar termas:",r.status,r.statusText),T([])}catch(r){console.error("Error:",r),T([])}finally{z(!1)}},x=r=>{y(r),j(!1),u({...r})},f=()=>{y(null),j(!0),u({..._})},v=(r,D)=>{u(A=>({...A,[r]:D}))},L=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const r=localStorage.getItem("token"),D=c?"/api/terma":`/api/terma/${o?.id}`,A={...t,description:t.description?.trim()||void 0,direccion:t.direccion?.trim()||void 0,horario:t.horario?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0},a=await fetch(D,{method:c?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(A)});if(a.ok)m({tipo:"success",texto:c?"Creado":"Actualizado"}),p(),c&&(j(!1),u(_));else{const i=await a.json().catch(()=>({}));console.error("Error del servidor:",i),m({tipo:"danger",texto:i.message||i.error||`Error ${a.status}: ${a.statusText}`})}}catch(r){console.error("Error en handleSave:",r),m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:f,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Crear primera terma"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(r=>e.jsxs(G.Item,{action:!0,active:o?.id===r.id,onClick:()=>x(r),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:r.titulo}),e.jsx("small",{className:"text-muted",children:r.direccion})]},r.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin registros - crea la primera"})]})]}),e.jsxs(n,{md:8,children:[E&&e.jsx(B,{variant:E.tipo,className:"py-1 small",children:E.texto}),o||c?e.jsxs(s,{children:[e.jsx("h6",{children:c?"Nueva Terma":`Editando: ${o?.titulo}`}),!c&&o&&e.jsx(b,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:r=>v("titulo",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:r=>v("telefono",r.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.description||"",onChange:r=>v("description",r.target.value)})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:r=>v("direccion",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:r=>v("horario",r.target.value)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:r=>v("latitud",parseFloat(r.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:r=>v("longitud",parseFloat(r.target.value)||0)})]})})]}),e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:r=>v("facebook",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:r=>v("instagram",r.target.value)})]})})]}),e.jsx(O,{images:t.imagenes||[],onChange:r=>u(D=>({...D,imagenes:r.map(A=>({imagenUrl:A}))})),maxImages:5,entityType:"terma",entityId:o?.id}),o?.imagenes&&o.imagenes.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-1",children:"Imágenes"}),e.jsx("div",{className:"d-flex gap-1 flex-wrap",children:o.imagenes.map((r,D)=>e.jsx("img",{src:r.imagenUrl,alt:"",style:{width:60,height:60,objectFit:"cover"}},D))})]}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:L,disabled:h,children:h?e.jsx(M,{size:"sm"}):c?"Crear":"Guardar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona la terma para editar o crea una nueva"})]})]})}const X={firstName:"",lastName:"",email:"",password:"",role:"USER"};function ie(){const[w,T]=d.useState([]),[I,z]=d.useState(!0),[o,y]=d.useState(null),[c,j]=d.useState(null),[t,u]=d.useState(!1),[h,S]=d.useState(!1),[E,m]=d.useState(""),[p,x]=d.useState(X),[f,v]=d.useState(!1);d.useEffect(()=>{L()},[]);const L=async()=>{try{z(!0);const i=await fetch("/api/user/all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(i.ok){const C=await i.json();T(C)}else console.warn("API respondió con error:",i.status),T([])}catch(i){console.error("Error cargando usuarios:",i),T([])}finally{z(!1)}},r=i=>{y(i)},D=async()=>{if(!(!o||!E)){v(!0);try{const i=localStorage.getItem("token"),C=await fetch(`/api/user/${o.id}/role`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({role:E})});if(C.ok)j({tipo:"success",texto:"Rol actualizado"}),L(),u(!1);else{const l=await C.json().catch(()=>({}));j({tipo:"danger",texto:l.error||l.detalle||"Error al cambiar rol"})}}catch(i){console.error("Error:",i),j({tipo:"danger",texto:"Error de conexión"})}finally{v(!1),setTimeout(()=>j(null),3e3)}}},A=async()=>{if(!p.firstName||!p.email||!p.password){j({tipo:"danger",texto:"Nombre, email y contraseña son requeridos"});return}v(!0);try{const i=localStorage.getItem("token"),C={correo:p.email,nombre:p.firstName,contrasenia:p.password,role:p.role},l=await fetch("/api/user/moderador/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(C)});if(l.ok)j({tipo:"success",texto:"Usuario creado correctamente"}),S(!1),x(X),L();else{const k=await l.json().catch(()=>({}));j({tipo:"danger",texto:k.error||k.detalle||"Error al crear usuario"})}}catch(i){console.error("Error:",i),j({tipo:"danger",texto:"Error de conexión"})}finally{v(!1),setTimeout(()=>j(null),3e3)}},a=i=>{switch(i){case"MODERADOR":return e.jsx(R,{bg:"danger",children:"Moderador"});case"ADMINISTRADOR":return e.jsx(R,{bg:"warning",text:"dark",children:"Administrador"});case"USER":return e.jsx(R,{bg:"secondary",children:"Usuario"});default:return e.jsx(R,{bg:"light",text:"dark",children:i})}};return I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(b,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsxs("small",{className:"text-muted",children:[w.length," usuario(s)"]}),e.jsx(g,{variant:"success",size:"sm",onClick:()=>S(!0),children:"+ Nuevo"})]}),e.jsxs(G,{style:{maxHeight:400,overflowY:"auto"},children:[w.map(i=>e.jsx(G.Item,{action:!0,active:o?.id===i.id,onClick:()=>r(i),className:"py-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"fw-bold small",children:[i.firstName," ",i.lastName]}),e.jsx("small",{className:"text-muted",children:i.email})]}),a(i.role)]})},i.id)),w.length===0&&e.jsx(G.Item,{className:"text-muted",children:"Sin usuarios registrados"})]})]}),e.jsxs(n,{md:8,children:[c&&e.jsx(B,{variant:c.tipo,className:"py-1 small",children:c.texto}),o?e.jsxs("div",{children:[e.jsx("h6",{children:"Detalles del Usuario"}),e.jsx("table",{className:"table table-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",style:{width:"30%"},children:"Nombre"}),e.jsxs("td",{children:[o.firstName," ",o.lastName]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Email"}),e.jsxs("td",{children:[o.email,o.emailVerified?e.jsx(R,{bg:"success",className:"ms-2",children:"Verificado"}):e.jsx(R,{bg:"warning",text:"dark",className:"ms-2",children:"No verificado"})]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Rol"}),e.jsx("td",{children:a(o.role)})]}),o.address&&e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Dirección"}),e.jsx("td",{children:o.address})]})]})}),e.jsx(g,{size:"sm",variant:"outline-primary",onClick:()=>{m(o.role),u(!0)},children:"Cambiar Rol"})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un usuario para ver detalles"})]}),e.jsxs(N,{show:t,onHide:()=>u(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Cambiar Rol"})}),e.jsxs(N.Body,{children:[e.jsxs("p",{children:["Cambiar rol de ",e.jsxs("strong",{children:[o?.firstName," ",o?.lastName]})]}),e.jsxs(s.Select,{value:E,onChange:i=>m(i.target.value),children:[e.jsx("option",{value:"USER",children:"Usuario"}),e.jsx("option",{value:"ADMINISTRADOR",children:"Administrador"}),e.jsx("option",{value:"MODERADOR",children:"Moderador"})]}),e.jsxs("small",{className:"text-muted mt-2 d-block",children:[e.jsx("strong",{children:"Usuario:"})," Acceso básico.",e.jsx("br",{}),e.jsx("strong",{children:"Administrador:"})," Gestiona comercios/negocios asignados.",e.jsx("br",{}),e.jsx("strong",{children:"Moderador:"})," Acceso total al panel de moderación."]})]}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(g,{variant:"primary",onClick:D,disabled:f,children:f?e.jsx(M,{size:"sm"}):"Guardar"})]})]}),e.jsxs(N,{show:h,onHide:()=>S(!1),children:[e.jsx(N.Header,{closeButton:!0,children:e.jsx(N.Title,{children:"Crear Usuario"})}),e.jsx(N.Body,{children:e.jsxs(s,{children:[e.jsxs(b,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:p.firstName,onChange:i=>x({...p,firstName:i.target.value})})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Apellido"}),e.jsx(s.Control,{size:"sm",value:p.lastName,onChange:i=>x({...p,lastName:i.target.value})})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Email *"}),e.jsx(s.Control,{size:"sm",type:"email",value:p.email,onChange:i=>x({...p,email:i.target.value})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Contraseña *"}),e.jsx(s.Control,{size:"sm",type:"password",value:p.password,onChange:i=>x({...p,password:i.target.value})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Rol"}),e.jsxs(s.Select,{size:"sm",value:p.role,onChange:i=>x({...p,role:i.target.value}),children:[e.jsx("option",{value:"USER",children:"Usuario"}),e.jsx("option",{value:"ADMINISTRADOR",children:"Administrador"}),e.jsx("option",{value:"MODERADOR",children:"Moderador"})]})]})]})}),e.jsxs(N.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>S(!1),children:"Cancelar"}),e.jsx(g,{variant:"primary",onClick:A,disabled:f,children:f?e.jsx(M,{size:"sm"}):"Crear"})]})]})]})}const ce=[{key:"usuarios",titulo:"Usuarios",componente:e.jsx(ie,{})},{key:"comercios",titulo:"Comercios",componente:e.jsx(se,{})},{key:"servicios",titulo:"Servicios",componente:e.jsx(oe,{})},{key:"eventos",titulo:"Eventos",componente:e.jsx(te,{})},{key:"espacios",titulo:"Espacios Públicos",componente:e.jsx(ae,{})},{key:"hospedajes",titulo:"Hospedajes",componente:e.jsx(re,{})},{key:"gastronomia",titulo:"Gastronomía",componente:e.jsx(le,{})},{key:"termas",titulo:"Termas",componente:e.jsx(ne,{})}];function ue(){const[w,T]=d.useState("usuarios");return e.jsxs(ee,{fluid:!0,className:"py-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"mb-1",children:"Panel de Moderador"}),e.jsx(R,{bg:"secondary",children:"Gestión de contenido público"})]}),e.jsx(P,{activeKey:w,onSelect:I=>T(I),children:ce.map(I=>e.jsxs(P.Item,{eventKey:I.key,children:[e.jsx(P.Header,{children:I.titulo}),e.jsx(P.Body,{children:I.componente})]},I.key))})]})}export{ue as default};
