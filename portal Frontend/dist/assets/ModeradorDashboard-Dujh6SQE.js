import{r as c,j as e,F as s,f as v,g as n,n as Z,B as g,A as B,S as M,L as D,M as f,h as O,C as ee,o as P}from"./bootstrap-B3hNdjPl.js";import"./vendor-gH-7aFTg.js";function R({images:E,onChange:I,maxImages:w=5,entityType:T="comercio",entityId:o}){const[y,i]=c.useState(""),[j,t]=c.useState(!1),u=Array.isArray(E)?E.map(m=>typeof m=="string"?m:m.imagenUrl):[],h=()=>{if(y.trim()&&u.length<w){const m=[...u,y.trim()];I(m),i("")}},S=async m=>{const p=m.target.files;if(!p||p.length===0||u.length>=w)return;const x=p[0];if(!x.type.match(/image\/(jpeg|jpg|png)/)){alert("Solo se permiten archivos JPEG, JPG o PNG");return}if(x.size>5*1024*1024){alert("El archivo no puede superar los 5MB");return}t(!0);try{const C=new FormData;if(C.append("imagen",x),o&&T){const L={comercio:"/api/comercio/imagen",servicio:"/api/servicio/imagen",evento:"/api/eventos/imagen",hospedaje:"/api/hospedaje/imagen",gastronomia:"/api/gastronomia/imagen","espacio-publico":"/api/espacio-publico/imagen",terma:"/api/terma/imagen"}[T]||"/api/comercio/imagen",r=await fetch(`${L}/${o}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:C});if(r.ok){const G=await r.json(),A=[...u,G.imagenUrl];I(A)}else{const G=await r.json();alert(`Error al subir imagen: ${G.message||"Error desconocido"}`)}}else{const b=await fetch("/api/upload/imagen",{method:"POST",body:C});if(b.ok){const L=await b.json(),r=[...u,L.imagenUrl];I(r)}else alert("Error al subir imagen")}}catch(C){console.error("Error subiendo imagen:",C),alert("Error de conexión al subir la imagen")}finally{t(!1),m.target.value=""}},z=async m=>{const p=u[m];if(o&&T)try{const b={comercio:"/api/comercio/imagen",servicio:"/api/servicio/imagen",evento:"/api/eventos/imagen",hospedaje:"/api/hospedaje/imagen",gastronomia:"/api/gastronomia/imagen","espacio-publico":"/api/espacio-publico/imagen",terma:"/api/terma/imagen"}[T]||"/api/comercio/imagen";await fetch(`${b}/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({imagenUrl:p})})}catch(C){console.error("Error eliminando imagen del backend:",C)}const x=u.filter((C,b)=>b!==m);I(x)};return e.jsxs("div",{className:"mb-3",children:[e.jsxs(s.Label,{className:"small mb-2",children:["Imágenes (",u.length,"/",w,")"]}),u.length>0&&e.jsx(v,{className:"mb-3 g-2",children:u.map((m,p)=>e.jsx(n,{xs:6,md:4,lg:3,children:e.jsxs("div",{className:"position-relative",children:[e.jsx(Z,{src:m,alt:`Imagen ${p+1}`,fluid:!0,className:"w-100 h-100",style:{objectFit:"cover",maxHeight:"120px"},onError:x=>{x.currentTarget.src="https://via.placeholder.com/120x120/cccccc/666666?text=Error"}}),e.jsx(g,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 m-1",onClick:()=>z(p),style:{fontSize:"0.7rem",padding:"0.2rem 0.4rem"},children:"×"})]})},p))}),u.length<w&&e.jsxs(v,{className:"g-2",children:[e.jsx(n,{md:6,children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(s.Control,{size:"sm",type:"url",placeholder:"https://ejemplo.com/imagen.jpg",value:y,onChange:m=>i(m.target.value),onKeyPress:m=>m.key==="Enter"&&h()}),e.jsx(g,{size:"sm",variant:"outline-primary",onClick:h,children:"Agregar URL"})]})}),e.jsxs(n,{md:6,children:[e.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[e.jsx(s.Control,{type:"file",size:"sm",accept:".jpg,.jpeg,.png",onChange:S,disabled:j}),j&&e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Subiendo..."})})]}),e.jsx("small",{className:"text-muted",children:"JPEG, JPG, PNG (máx. 5MB)"})]})]}),u.length>=w&&e.jsxs(B,{variant:"info",className:"py-2 small",children:["Máximo de ",w," imágenes alcanzado"]})]})}const J={titulo:"",descripcion:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function se(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(!1),[t,u]=c.useState(J),[h,S]=c.useState(!1),[z,m]=c.useState(null),[p,x]=c.useState(!1);c.useEffect(()=>{C()},[]);const C=async()=>{try{T(!0);const a=await fetch("/api/comercio/list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.ok){const d=await a.json();I(d),console.log("Datos cargados desde API:",d)}else console.warn("API respondió con error:",a.status,a.statusText),I([])}catch(a){console.error("Error cargando datos:",a),I([])}finally{T(!1)}},b=a=>{console.log("Item seleccionado:",a),y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...J})},r=(a,d)=>{u(N=>({...N,[a]:d}))},G=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),d=i?"/api/comercio":`/api/comercio/patch/${o?.id}`,N=i?"POST":"PATCH",l={...t,descripcion:t.descripcion?.trim()||"",telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:t.imagenes&&t.imagenes.length>0?t.imagenes:void 0};console.log("Enviando datos:",l),console.log("URL:",d),console.log("Método:",N);const k=await fetch(d,{method:N,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(l)});if(console.log("Respuesta status:",k.status),k.ok)m({tipo:"success",texto:i?"Creado":"Actualizado"}),C(),i&&(j(!1),u(J));else{const $=await k.json().catch(()=>({}));console.error("Error del servidor:",$),m({tipo:"danger",texto:$.message||$.error||`Error ${k.status}: ${k.statusText}`})}}catch(a){console.error("Error en handleSave:",a),m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token"),d=await fetch(`/api/comercio/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(d.ok)m({tipo:"success",texto:"Eliminado"}),y(null),u(J),C();else{const N=await d.json().catch(()=>({}));m({tipo:"danger",texto:N.message||N.error||"Error al eliminar"})}}catch(a){console.error("Error en handleDelete:",a),m({tipo:"danger",texto:"Error de conexión al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(a=>e.jsxs(D.Item,{action:!0,active:o?.id===a.id,onClick:()=>b(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.direccion})]},a.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[z&&e.jsx(B,{variant:z.tipo,className:"py-1 small",children:z.texto}),o||i?e.jsxs(s,{children:[e.jsx("h6",{children:i?"Nuevo Comercio":`Editando: ${o?.titulo}`}),!i&&o&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})})]}),e.jsx(R,{images:t.imagenes||[],onChange:a=>u(d=>({...d,imagenes:a.map(N=>({imagenUrl:N}))})),maxImages:5,entityType:"comercio",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:G,disabled:h,children:h?e.jsx(M,{size:"sm"}):i?"Crear":"Guardar"}),!i&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:p,onHide:()=>x(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar eliminación"})}),e.jsxs(f.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const q={titulo:"",descripcion:"",direccion:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",twitter:"",tiktok:"",categoria:"",horario:"",imagenes:[]};function ae(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(!1),[t,u]=c.useState(q),[h,S]=c.useState(!1),[z,m]=c.useState(null),[p,x]=c.useState(!1);c.useEffect(()=>{C()},[]);const C=async()=>{try{T(!0);const a=await fetch("/api/espacio-publico",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&I(await a.json())}catch(a){console.error("Error:",a)}finally{T(!1)}},b=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...q})},r=(a,d)=>{u(N=>({...N,[a]:d}))},G=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),d=i?"/api/espacio-publico":`/api/espacio-publico/${o?.id}`,N={...t,descripcion:t.descripcion?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,twitter:t.twitter?.trim()||void 0,tiktok:t.tiktok?.trim()||void 0,categoria:t.categoria?.trim()||void 0,horario:t.horario?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(d,{method:i?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(N)})).ok?(m({tipo:"success",texto:i?"Creado":"Actualizado"}),C(),i&&(j(!1),u(q))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/espacio-publico/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(q),C())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(a=>e.jsxs(D.Item,{action:!0,active:o?.id===a.id,onClick:()=>b(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.categoria||a.direccion})]},a.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[z&&e.jsx(B,{variant:z.tipo,className:"py-1 small",children:z.texto}),o||i?e.jsxs(s,{children:[e.jsx("h6",{children:i?"Nuevo Espacio Público":`Editando: ${o?.titulo}`}),!i&&o&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Categoría"}),e.jsx(s.Control,{size:"sm",value:t.categoria||"",onChange:a=>r("categoria",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Twitter"}),e.jsx(s.Control,{size:"sm",value:t.twitter||"",onChange:a=>r("twitter",a.target.value)})]})}),e.jsx(n,{md:3,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"TikTok"}),e.jsx(s.Control,{size:"sm",value:t.tiktok||"",onChange:a=>r("tiktok",a.target.value)})]})})]}),e.jsx(R,{images:t.imagenes||[],onChange:a=>u(d=>({...d,imagenes:a.map(N=>({imagenUrl:N}))})),maxImages:5,entityType:"espacio-publico",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:G,disabled:h,children:h?e.jsx(M,{size:"sm"}):i?"Crear":"Guardar"}),!i&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:p,onHide:()=>x(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar"})}),e.jsxs(f.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const Y={nombreEvento:"",lugar:"",horario:"",fechaInicio:"",fechaFin:"",telefonoContacto:"",nombreContacto:"",imagenes:[]};function te(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(!1),[t,u]=c.useState(Y),[h,S]=c.useState(!1),[z,m]=c.useState(null),[p,x]=c.useState(!1);c.useEffect(()=>{C()},[]);const C=async()=>{try{T(!0);const a=await fetch("/api/eventos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&I(await a.json())}catch(a){console.error("Error:",a)}finally{T(!1)}},b=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...Y})},r=(a,d)=>{u(N=>({...N,[a]:d}))},G=async()=>{if(!t.nombreEvento){m({tipo:"danger",texto:"Nombre requerido"});return}S(!0);try{const a=localStorage.getItem("token"),d=i?"/api/eventos":`/api/eventos/${o?.id}`,N={...t,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(d,{method:i?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(N)})).ok?(m({tipo:"success",texto:i?"Creado":"Actualizado"}),C(),i&&(j(!1),u(Y))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/eventos/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(Y),C())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(a=>e.jsxs(D.Item,{action:!0,active:o?.id===a.id,onClick:()=>b(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.nombreEvento}),e.jsxs("small",{className:"text-muted",children:[a.fechaInicio," - ",a.lugar]})]},a.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[z&&e.jsx(B,{variant:z.tipo,className:"py-1 small",children:z.texto}),o||i?e.jsxs(s,{children:[e.jsx("h6",{children:i?"Nuevo Evento":`Editando: ${o?.nombreEvento}`}),!i&&o&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:t.nombreEvento||"",onChange:a=>r("nombreEvento",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Lugar *"}),e.jsx(s.Control,{size:"sm",value:t.lugar||"",onChange:a=>r("lugar",a.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Fecha Inicio *"}),e.jsx(s.Control,{size:"sm",type:"date",value:t.fechaInicio||"",onChange:a=>r("fechaInicio",a.target.value)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Fecha Fin"}),e.jsx(s.Control,{size:"sm",type:"date",value:t.fechaFin||"",onChange:a=>r("fechaFin",a.target.value)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario *"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre Contacto *"}),e.jsx(s.Control,{size:"sm",value:t.nombreContacto||"",onChange:a=>r("nombreContacto",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono Contacto *"}),e.jsx(s.Control,{size:"sm",value:t.telefonoContacto||"",onChange:a=>r("telefonoContacto",a.target.value)})]})})]}),e.jsx(R,{images:t.imagenes||[],onChange:a=>u(d=>({...d,imagenes:a.map(N=>({imagenUrl:N}))})),maxImages:5,entityType:"evento",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:G,disabled:h,children:h?e.jsx(M,{size:"sm"}):i?"Crear":"Guardar"}),!i&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:p,onHide:()=>x(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar"})}),e.jsxs(f.Body,{children:['¿Eliminar "',o?.nombreEvento,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const W={name:"",address:"",email:"",latitude:void 0,longitude:void 0,categories:"",phones:"",schedule:"",delivery:!1,imagenes:[],userId:void 0};function le(){const[E,I]=c.useState([]),[w,T]=c.useState([]),[o,y]=c.useState(!0),[i,j]=c.useState(null),[t,u]=c.useState(!1),[h,S]=c.useState(W),[z,m]=c.useState(!1),[p,x]=c.useState(null),[C,b]=c.useState(!1);c.useEffect(()=>{L(),r()},[]);const L=async()=>{try{y(!0);const l=await fetch("/api/gastronomia/findAll",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();I(k||[])}}catch(l){console.error("Error:",l)}finally{y(!1)}},r=async()=>{try{const l=await fetch("/api/user/administradores",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();T(k||[])}}catch(l){console.error("Error cargando administradores:",l)}},G=l=>{j(l),u(!1),S({...l})},A=()=>{j(null),u(!0),S({...W}),x(null)},a=(l,k)=>{S($=>({...$,[l]:k}))},d=async()=>{if(!h.name){x({tipo:"danger",texto:"Nombre requerido"});return}m(!0);try{const l=localStorage.getItem("token"),k=t?"/api/gastronomia":`/api/gastronomia/${i?.id}`,$={...h,address:h.address?.trim()||void 0,email:h.email?.trim()||void 0,categories:h.categories?.trim()||void 0,phones:h.phones?.trim()||void 0,schedule:h.schedule?.trim()||void 0,latitude:h.latitude||void 0,longitude:h.longitude||void 0,imagenes:(h.imagenes?.length??0)>0?h.imagenes:void 0},F=await fetch(k,{method:t?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify($)});if(F.ok){const U=await F.json();if(t&&h.userId){const H={ownerId:h.userId,name:h.name,businessType:"GASTRONOMIA",externalBusinessId:U.id};(await fetch("/api/business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(H)})).ok||console.warn("No se pudo asignar el administrador al negocio")}x({tipo:"success",texto:t?"Creado":"Actualizado"}),L(),t&&(u(!1),S(W))}else x({tipo:"danger",texto:"Error al guardar"})}catch{x({tipo:"danger",texto:"Error de conexión"})}finally{m(!1),setTimeout(()=>x(null),3e3)}},N=async()=>{if(i)try{const l=localStorage.getItem("token");(await fetch(`/api/gastronomia/delete/${i.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok?(x({tipo:"success",texto:"Eliminado"}),j(null),S(W),L()):x({tipo:"danger",texto:"Error al eliminar"})}catch{x({tipo:"danger",texto:"Error de conexión"})}finally{b(!1),setTimeout(()=>x(null),3e3)}};return o?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:A,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(l=>e.jsxs(D.Item,{action:!0,active:i?.id===l.id,onClick:()=>G(l),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:l.name}),e.jsx("small",{className:"text-muted",children:l.address||l.categories})]},l.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[p&&e.jsx(B,{variant:p.tipo,className:"py-1 small",children:p.texto}),i||t?e.jsxs(s,{children:[e.jsx("h6",{children:t?"Nuevo Local Gastronómico":`Editando: ${i?.name}`}),!t&&i&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:i.id,disabled:!0})]})})}),t&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"Administrador/Dueño"}),e.jsxs(s.Select,{size:"sm",value:h.userId||"",onChange:l=>a("userId",parseInt(l.target.value)||0),children:[e.jsx("option",{value:"",children:"Seleccionar administrador..."}),w.map(l=>e.jsxs("option",{value:l.id,children:[l.firstName," ",l.lastName," (",l.email,")"]},l.id))]})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:h.name||"",onChange:l=>a("name",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Email"}),e.jsx(s.Control,{size:"sm",type:"email",value:h.email||"",onChange:l=>a("email",l.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:h.address||"",onChange:l=>a("address",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Categorías"}),e.jsx(s.Control,{size:"sm",value:h.categories||"",onChange:l=>a("categories",l.target.value),placeholder:"Pizza, Empanadas"})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfonos"}),e.jsx(s.Control,{size:"sm",value:h.phones||"",onChange:l=>a("phones",l.target.value),placeholder:"123456, 789012"})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horarios"}),e.jsx(s.Control,{size:"sm",value:h.schedule||"",onChange:l=>a("schedule",l.target.value),placeholder:"1:09:00-22:00; 2:09:00-22:00"})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:h.latitude??"",onChange:l=>a("latitude",parseFloat(l.target.value)||0)})]})}),e.jsx(n,{md:4,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:h.longitude??"",onChange:l=>a("longitude",parseFloat(l.target.value)||0)})]})}),e.jsx(n,{md:4,children:e.jsx(s.Group,{className:"mb-2 pt-4",children:e.jsx(s.Check,{type:"checkbox",label:"Delivery",checked:h.delivery||!1,onChange:l=>a("delivery",l.target.checked)})})})]}),e.jsx(R,{images:h.imagenes||[],onChange:l=>S(k=>({...k,imagenes:l.map($=>({imagenUrl:$}))})),maxImages:5,entityType:"gastronomia",entityId:i?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:d,disabled:z,children:z?e.jsx(M,{size:"sm"}):t?"Crear":"Guardar"}),!t&&i&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>b(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{j(null),u(!1),x(null)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:C,onHide:()=>b(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar"})}),e.jsxs(f.Body,{children:['¿Eliminar "',i?.name,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:N,children:"Eliminar"})]})]})]})}const K={titulo:"",description:"",ubicacion:"",googleMapsUrl:"",numWhatsapp:"",tipoHospedaje:"HOTEL",imagenes:[],userId:void 0};function re(){const[E,I]=c.useState([]),[w,T]=c.useState([]),[o,y]=c.useState(!0),[i,j]=c.useState(null),[t,u]=c.useState(!1),[h,S]=c.useState(K),[z,m]=c.useState(!1),[p,x]=c.useState(null),[C,b]=c.useState(!1);c.useEffect(()=>{L(),r()},[]);const L=async()=>{try{y(!0);const l=await fetch("/api/hospedajes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();I(k),console.log("Hospedajes cargados desde API:",k)}}catch(l){console.error("Error cargando hospedajes:",l),I([])}finally{y(!1)}},r=async()=>{try{const l=await fetch("/api/user/administradores",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(l.ok){const k=await l.json();T(k||[])}}catch(l){console.error("Error cargando administradores:",l)}},G=l=>{console.log("Hospedaje seleccionado:",l),j(l),u(!1),S({...l})},A=()=>{j(null),u(!0),S({...K})},a=(l,k)=>{S($=>({...$,[l]:k}))},d=async()=>{if(!h.titulo){x({tipo:"danger",texto:"Título requerido"});return}m(!0);try{const l=localStorage.getItem("token"),k=t?"/api/hospedajes":`/api/hospedajes/${i?.id}`,$=t?"POST":"PUT",F={...h,description:h.description?.trim()||"",ubicacion:h.ubicacion?.trim()||void 0,googleMapsUrl:h.googleMapsUrl?.trim()||void 0,numWhatsapp:h.numWhatsapp?.trim()||void 0,imagenes:(h.imagenes??[]).length>0?h.imagenes:void 0};console.log("Enviando hospedaje:",F),console.log("URL:",k),console.log("Método:",$);const U=await fetch(k,{method:$,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(F)});if(console.log("Respuesta status:",U.status),U.ok){const H=await U.json();if(t&&h.userId){const Q={ownerId:h.userId,name:h.titulo,businessType:"HOSPEDAJE",externalBusinessId:H.id};(await fetch("/api/business",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(Q)})).ok||console.warn("No se pudo asignar el administrador al negocio")}x({tipo:"success",texto:t?"Creado":"Actualizado"}),L(),t&&(u(!1),S(K))}else{const H=await U.json().catch(()=>({}));console.error("Error del servidor:",H),x({tipo:"danger",texto:H.message||H.error||`Error ${U.status}: ${U.statusText}`})}}catch(l){console.error("Error en handleSave de hospedaje:",l),x({tipo:"danger",texto:"Error de conexión"})}finally{m(!1),setTimeout(()=>x(null),3e3)}},N=async()=>{if(i)try{const l=localStorage.getItem("token"),k=await fetch(`/api/hospedajes/${i.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}});if(k.ok)x({tipo:"success",texto:"Eliminado"}),j(null),S(K),L();else{const $=await k.json().catch(()=>({}));x({tipo:"danger",texto:$.message||$.error||"Error al eliminar"})}}catch(l){console.error("Error en handleDelete de hospedaje:",l),x({tipo:"danger",texto:"Error de conexión al eliminar"})}finally{b(!1),setTimeout(()=>x(null),3e3)}};return o?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:A,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(l=>e.jsxs(D.Item,{action:!0,active:i?.id===l.id,onClick:()=>G(l),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:l.titulo}),e.jsxs("small",{className:"text-muted",children:[l.tipoHospedaje," - ",l.ubicacion]})]},l.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[p&&e.jsx(B,{variant:p.tipo,className:"py-1 small",children:p.texto}),i||t?e.jsxs(s,{children:[e.jsx("h6",{children:t?"Nuevo Hospedaje":`Editando: ${i?.titulo}`}),!t&&i&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:i.id,disabled:!0})]})})}),t&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"Administrador/Dueño"}),e.jsxs(s.Select,{size:"sm",value:h.userId||"",onChange:l=>a("userId",l.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar administrador..."}),w.map(l=>e.jsxs("option",{value:l.id,children:[l.firstName," ",l.lastName," (",l.email,")"]},l.id))]})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:h.titulo||"",onChange:l=>a("titulo",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Tipo *"}),e.jsxs(s.Select,{size:"sm",value:h.tipoHospedaje||"HOTEL",onChange:l=>a("tipoHospedaje",l.target.value),children:[e.jsx("option",{value:"HOTEL",children:"Hotel"}),e.jsx("option",{value:"DEPARTAMENTO",children:"Departamento"}),e.jsx("option",{value:"CABAÑA",children:"Cabaña"}),e.jsx("option",{value:"CASA",children:"Casa"}),e.jsx("option",{value:"OTRO",children:"Otro"})]})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:h.description||"",onChange:l=>a("description",l.target.value)})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Ubicación *"}),e.jsx(s.Control,{size:"sm",value:h.ubicacion||"",onChange:l=>a("ubicacion",l.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"WhatsApp"}),e.jsx(s.Control,{size:"sm",value:h.numWhatsapp||"",onChange:l=>a("numWhatsapp",l.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Google Maps URL *"}),e.jsx(s.Control,{size:"sm",value:h.googleMapsUrl||"",onChange:l=>a("googleMapsUrl",l.target.value),placeholder:"https://maps.google.com/..."})]}),e.jsx(R,{images:h.imagenes||[],onChange:l=>S(k=>({...k,imagenes:l.map($=>({imagenUrl:$}))})),maxImages:5,entityType:"hospedaje",entityId:i?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:d,disabled:z,children:z?e.jsx(M,{size:"sm"}):t?"Crear":"Guardar"}),!t&&i&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>b(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{j(null),u(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:C,onHide:()=>b(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar"})}),e.jsxs(f.Body,{children:['¿Eliminar "',i?.titulo,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>b(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:N,children:"Eliminar"})]})]})]})}const V={titulo:"",descripcion:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function ne(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(!1),[t,u]=c.useState(V),[h,S]=c.useState(!1),[z,m]=c.useState(null),[p,x]=c.useState(!1);c.useEffect(()=>{C()},[]);const C=async()=>{try{T(!0);const a=await fetch("/api/servicio",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});a.ok&&I(await a.json())}catch(a){console.error("Error:",a)}finally{T(!1)}},b=a=>{y(a),j(!1),u({...a})},L=()=>{y(null),j(!0),u({...V})},r=(a,d)=>{u(N=>({...N,[a]:d}))},G=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const a=localStorage.getItem("token"),d=i?"/api/servicio":`/api/servicio/${o?.id}`,N={...t,descripcion:t.descripcion?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(d,{method:i?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(N)})).ok?(m({tipo:"success",texto:i?"Creado":"Actualizado"}),C(),i&&(j(!1),u(V))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}},A=async()=>{if(o)try{const a=localStorage.getItem("token");(await fetch(`/api/servicio/${o.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok&&(m({tipo:"success",texto:"Eliminado"}),y(null),u(V),C())}catch{m({tipo:"danger",texto:"Error al eliminar"})}finally{x(!1),setTimeout(()=>m(null),3e3)}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:L,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Agregar nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(a=>e.jsxs(D.Item,{action:!0,active:o?.id===a.id,onClick:()=>b(a),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:a.titulo}),e.jsx("small",{className:"text-muted",children:a.direccion})]},a.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros"})]})]}),e.jsxs(n,{md:8,children:[z&&e.jsx(B,{variant:z.tipo,className:"py-1 small",children:z.texto}),o||i?e.jsxs(s,{children:[e.jsx("h6",{children:i?"Nuevo Servicio":`Editando: ${o?.titulo}`}),!i&&o&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:a=>r("titulo",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:a=>r("telefono",a.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:a=>r("descripcion",a.target.value)})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:a=>r("direccion",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:a=>r("horario",a.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:a=>r("latitud",parseFloat(a.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:a=>r("longitud",parseFloat(a.target.value)||0)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:a=>r("facebook",a.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:a=>r("instagram",a.target.value)})]})})]}),e.jsx(R,{images:t.imagenes||[],onChange:a=>u(d=>({...d,imagenes:a.map(N=>({imagenUrl:N}))})),maxImages:5,entityType:"servicio",entityId:o?.id}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:G,disabled:h,children:h?e.jsx(M,{size:"sm"}):i?"Crear":"Guardar"}),!i&&o&&e.jsx(g,{size:"sm",variant:"outline-danger",onClick:()=>x(!0),children:"Eliminar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un item o crea uno nuevo"})]}),e.jsxs(f,{show:p,onHide:()=>x(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Confirmar"})}),e.jsxs(f.Body,{children:['¿Eliminar "',o?.titulo,'"?']}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(g,{variant:"danger",onClick:A,children:"Eliminar"})]})]})]})}const _={titulo:"",descripcion:"",direccion:"",horario:"",telefono:"",latitud:void 0,longitud:void 0,facebook:"",instagram:"",imagenes:[]};function oe(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(!1),[t,u]=c.useState(_),[h,S]=c.useState(!1),[z,m]=c.useState(null);c.useEffect(()=>{p()},[]);const p=async()=>{try{T(!0);const r=await fetch("/api/terma",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});r.ok&&I(await r.json())}catch(r){console.error("Error:",r)}finally{T(!1)}},x=r=>{y(r),j(!1),u({...r})},C=()=>{y(null),j(!0),u({..._})},b=(r,G)=>{u(A=>({...A,[r]:G}))},L=async()=>{if(!t.titulo){m({tipo:"danger",texto:"Título requerido"});return}S(!0);try{const r=localStorage.getItem("token"),G=i?"/api/terma":`/api/terma/${o?.id}`,A={...t,descripcion:t.descripcion?.trim()||void 0,direccion:t.direccion?.trim()||void 0,horario:t.horario?.trim()||void 0,telefono:t.telefono?.trim()||void 0,facebook:t.facebook?.trim()||void 0,instagram:t.instagram?.trim()||void 0,latitud:t.latitud||void 0,longitud:t.longitud||void 0,imagenes:(t.imagenes?.length??0)>0?t.imagenes:void 0};(await fetch(G,{method:i?"POST":"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(A)})).ok?(m({tipo:"success",texto:i?"Creado":"Actualizado"}),p(),i&&(j(!1),u(_))):m({tipo:"danger",texto:"Error al guardar"})}catch{m({tipo:"danger",texto:"Error de conexión"})}finally{S(!1),setTimeout(()=>m(null),3e3)}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(g,{variant:"success",size:"sm",className:"rounded-circle me-2",onClick:C,style:{width:32,height:32},children:"+"}),e.jsx("small",{className:"text-muted",children:"Crear primera terma"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(r=>e.jsxs(D.Item,{action:!0,active:o?.id===r.id,onClick:()=>x(r),className:"py-2",children:[e.jsx("div",{className:"fw-bold small",children:r.titulo}),e.jsx("small",{className:"text-muted",children:r.direccion})]},r.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin registros - crea la primera"})]})]}),e.jsxs(n,{md:8,children:[z&&e.jsx(B,{variant:z.tipo,className:"py-1 small",children:z.texto}),o||i?e.jsxs(s,{children:[e.jsx("h6",{children:i?"Nueva Terma":`Editando: ${o?.titulo}`}),!i&&o&&e.jsx(v,{className:"mb-2",children:e.jsx(n,{md:12,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{className:"small mb-0",children:"ID"}),e.jsx(s.Control,{size:"sm",value:o.id,disabled:!0})]})})}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Título *"}),e.jsx(s.Control,{size:"sm",value:t.titulo||"",onChange:r=>b("titulo",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Teléfono"}),e.jsx(s.Control,{size:"sm",value:t.telefono||"",onChange:r=>b("telefono",r.target.value)})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Descripción"}),e.jsx(s.Control,{size:"sm",as:"textarea",rows:2,value:t.descripcion||"",onChange:r=>b("descripcion",r.target.value)})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Dirección"}),e.jsx(s.Control,{size:"sm",value:t.direccion||"",onChange:r=>b("direccion",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Horario"}),e.jsx(s.Control,{size:"sm",value:t.horario||"",onChange:r=>b("horario",r.target.value)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Latitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.latitud??"",onChange:r=>b("latitud",parseFloat(r.target.value)||0)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Longitud"}),e.jsx(s.Control,{size:"sm",type:"number",step:"any",value:t.longitud??"",onChange:r=>b("longitud",parseFloat(r.target.value)||0)})]})})]}),e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Facebook"}),e.jsx(s.Control,{size:"sm",value:t.facebook||"",onChange:r=>b("facebook",r.target.value)})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Instagram"}),e.jsx(s.Control,{size:"sm",value:t.instagram||"",onChange:r=>b("instagram",r.target.value)})]})})]}),e.jsx(R,{images:t.imagenes||[],onChange:r=>u(G=>({...G,imagenes:r.map(A=>({imagenUrl:A}))})),maxImages:5,entityType:"terma",entityId:o?.id}),o?.imagenes&&o.imagenes.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-1",children:"Imágenes"}),e.jsx("div",{className:"d-flex gap-1 flex-wrap",children:o.imagenes.map((r,G)=>e.jsx("img",{src:r.imagenUrl,alt:"",style:{width:60,height:60,objectFit:"cover"}},G))})]}),e.jsxs("div",{className:"d-flex gap-2 mt-3",children:[e.jsx(g,{size:"sm",variant:"primary",onClick:L,disabled:h,children:h?e.jsx(M,{size:"sm"}):i?"Crear":"Guardar"}),e.jsx(g,{size:"sm",variant:"secondary",onClick:()=>{y(null),j(!1)},children:"Cancelar"})]})]}):e.jsx("p",{className:"text-muted",children:"Selecciona la terma para editar o crea una nueva"})]})]})}const X={firstName:"",lastName:"",email:"",password:"",role:"USER"};function ie(){const[E,I]=c.useState([]),[w,T]=c.useState(!0),[o,y]=c.useState(null),[i,j]=c.useState(null),[t,u]=c.useState(!1),[h,S]=c.useState(!1),[z,m]=c.useState(""),[p,x]=c.useState(X),[C,b]=c.useState(!1);c.useEffect(()=>{L()},[]);const L=async()=>{try{T(!0);const d=await fetch("/api/user/all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(d.ok){const N=await d.json();I(N)}else console.warn("API respondió con error:",d.status),I([])}catch(d){console.error("Error cargando usuarios:",d),I([])}finally{T(!1)}},r=d=>{y(d)},G=async()=>{if(!(!o||!z)){b(!0);try{const d=localStorage.getItem("token"),N=await fetch(`/api/user/${o.id}/role`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({role:z})});if(N.ok)j({tipo:"success",texto:"Rol actualizado"}),L(),u(!1);else{const l=await N.json().catch(()=>({}));j({tipo:"danger",texto:l.error||l.detalle||"Error al cambiar rol"})}}catch(d){console.error("Error:",d),j({tipo:"danger",texto:"Error de conexión"})}finally{b(!1),setTimeout(()=>j(null),3e3)}}},A=async()=>{if(!p.firstName||!p.email||!p.password){j({tipo:"danger",texto:"Nombre, email y contraseña son requeridos"});return}b(!0);try{const d=localStorage.getItem("token"),N={correo:p.email,nombre:p.firstName,contrasenia:p.password,role:p.role},l=await fetch("/api/user/moderador/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(N)});if(l.ok)j({tipo:"success",texto:"Usuario creado correctamente"}),S(!1),x(X),L();else{const k=await l.json().catch(()=>({}));j({tipo:"danger",texto:k.error||k.detalle||"Error al crear usuario"})}}catch(d){console.error("Error:",d),j({tipo:"danger",texto:"Error de conexión"})}finally{b(!1),setTimeout(()=>j(null),3e3)}},a=d=>{switch(d){case"MODERADOR":return e.jsx(O,{bg:"danger",children:"Moderador"});case"ADMINISTRADOR":return e.jsx(O,{bg:"warning",text:"dark",children:"Administrador"});case"USER":return e.jsx(O,{bg:"secondary",children:"Usuario"});default:return e.jsx(O,{bg:"light",text:"dark",children:d})}};return w?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{size:"sm"})," Cargando..."]}):e.jsxs(v,{children:[e.jsxs(n,{md:4,children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsxs("small",{className:"text-muted",children:[E.length," usuario(s)"]}),e.jsx(g,{variant:"success",size:"sm",onClick:()=>S(!0),children:"+ Nuevo"})]}),e.jsxs(D,{style:{maxHeight:400,overflowY:"auto"},children:[E.map(d=>e.jsx(D.Item,{action:!0,active:o?.id===d.id,onClick:()=>r(d),className:"py-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"fw-bold small",children:[d.firstName," ",d.lastName]}),e.jsx("small",{className:"text-muted",children:d.email})]}),a(d.role)]})},d.id)),E.length===0&&e.jsx(D.Item,{className:"text-muted",children:"Sin usuarios registrados"})]})]}),e.jsxs(n,{md:8,children:[i&&e.jsx(B,{variant:i.tipo,className:"py-1 small",children:i.texto}),o?e.jsxs("div",{children:[e.jsx("h6",{children:"Detalles del Usuario"}),e.jsx("table",{className:"table table-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",style:{width:"30%"},children:"Nombre"}),e.jsxs("td",{children:[o.firstName," ",o.lastName]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Email"}),e.jsxs("td",{children:[o.email,o.emailVerified?e.jsx(O,{bg:"success",className:"ms-2",children:"Verificado"}):e.jsx(O,{bg:"warning",text:"dark",className:"ms-2",children:"No verificado"})]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Rol"}),e.jsx("td",{children:a(o.role)})]}),o.address&&e.jsxs("tr",{children:[e.jsx("th",{className:"text-muted",children:"Dirección"}),e.jsx("td",{children:o.address})]})]})}),e.jsx(g,{size:"sm",variant:"outline-primary",onClick:()=>{m(o.role),u(!0)},children:"Cambiar Rol"})]}):e.jsx("p",{className:"text-muted",children:"Selecciona un usuario para ver detalles"})]}),e.jsxs(f,{show:t,onHide:()=>u(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Cambiar Rol"})}),e.jsxs(f.Body,{children:[e.jsxs("p",{children:["Cambiar rol de ",e.jsxs("strong",{children:[o?.firstName," ",o?.lastName]})]}),e.jsxs(s.Select,{value:z,onChange:d=>m(d.target.value),children:[e.jsx("option",{value:"USER",children:"Usuario"}),e.jsx("option",{value:"ADMINISTRADOR",children:"Administrador"}),e.jsx("option",{value:"MODERADOR",children:"Moderador"})]}),e.jsxs("small",{className:"text-muted mt-2 d-block",children:[e.jsx("strong",{children:"Usuario:"})," Acceso básico.",e.jsx("br",{}),e.jsx("strong",{children:"Administrador:"})," Gestiona comercios/negocios asignados.",e.jsx("br",{}),e.jsx("strong",{children:"Moderador:"})," Acceso total al panel de moderación."]})]}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(g,{variant:"primary",onClick:G,disabled:C,children:C?e.jsx(M,{size:"sm"}):"Guardar"})]})]}),e.jsxs(f,{show:h,onHide:()=>S(!1),children:[e.jsx(f.Header,{closeButton:!0,children:e.jsx(f.Title,{children:"Crear Usuario"})}),e.jsx(f.Body,{children:e.jsxs(s,{children:[e.jsxs(v,{children:[e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Nombre *"}),e.jsx(s.Control,{size:"sm",value:p.firstName,onChange:d=>x({...p,firstName:d.target.value})})]})}),e.jsx(n,{md:6,children:e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Apellido"}),e.jsx(s.Control,{size:"sm",value:p.lastName,onChange:d=>x({...p,lastName:d.target.value})})]})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Email *"}),e.jsx(s.Control,{size:"sm",type:"email",value:p.email,onChange:d=>x({...p,email:d.target.value})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Contraseña *"}),e.jsx(s.Control,{size:"sm",type:"password",value:p.password,onChange:d=>x({...p,password:d.target.value})})]}),e.jsxs(s.Group,{className:"mb-2",children:[e.jsx(s.Label,{className:"small mb-0",children:"Rol"}),e.jsxs(s.Select,{size:"sm",value:p.role,onChange:d=>x({...p,role:d.target.value}),children:[e.jsx("option",{value:"USER",children:"Usuario"}),e.jsx("option",{value:"ADMINISTRADOR",children:"Administrador"}),e.jsx("option",{value:"MODERADOR",children:"Moderador"})]})]})]})}),e.jsxs(f.Footer,{children:[e.jsx(g,{variant:"secondary",onClick:()=>S(!1),children:"Cancelar"}),e.jsx(g,{variant:"primary",onClick:A,disabled:C,children:C?e.jsx(M,{size:"sm"}):"Crear"})]})]})]})}const ce=[{key:"usuarios",titulo:"Usuarios",componente:e.jsx(ie,{})},{key:"comercios",titulo:"Comercios",componente:e.jsx(se,{})},{key:"servicios",titulo:"Servicios",componente:e.jsx(ne,{})},{key:"eventos",titulo:"Eventos",componente:e.jsx(te,{})},{key:"espacios",titulo:"Espacios Públicos",componente:e.jsx(ae,{})},{key:"hospedajes",titulo:"Hospedajes",componente:e.jsx(re,{})},{key:"gastronomia",titulo:"Gastronomía",componente:e.jsx(le,{})},{key:"termas",titulo:"Termas",componente:e.jsx(oe,{})}];function ue(){const[E,I]=c.useState("usuarios");return e.jsxs(ee,{fluid:!0,className:"py-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"mb-1",children:"Panel de Moderador"}),e.jsx(O,{bg:"secondary",children:"Gestión de contenido público"})]}),e.jsx(P,{activeKey:E,onSelect:w=>I(w),children:ce.map(w=>e.jsxs(P.Item,{eventKey:w.key,children:[e.jsx(P.Header,{children:w.titulo}),e.jsx(P.Body,{children:w.componente})]},w.key))})]})}export{ue as default};
